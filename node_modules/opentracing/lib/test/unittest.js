"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
// Ensure the stack trace lines numbers are correct on errors
require('source-map-support').install();
var semver = require("semver");
var index_js_1 = require("../index.js");
var api_compatibility_1 = require("./api_compatibility");
var mocktracer_implemenation_1 = require("./mocktracer_implemenation");
var noop_implementation_1 = require("./noop_implementation");
var opentracing_api_1 = require("./opentracing_api");
var span_manager_1 = require("./span_manager");
mocktracer_implemenation_1.default();
api_compatibility_1.default(function () { return new index_js_1.MockTracer(); }, { skipInjectExtractChecks: true, skipBaggageChecks: true });
// Run the tests on the default OpenTracing no-op Tracer.
noop_implementation_1.default();
// Run the api conformance tests on the default Opentracing no-op Tracer.
api_compatibility_1.default(function () { return new index_js_1.Tracer(); }, { skipBaggageChecks: true });
// Basic unittests for opentracing
opentracing_api_1.default();
opentracing_api_1.default();
// Scope manager tests
var loadZoneJs = process.env.TEST_ZONE_JS === 'true'; // zone.js interferes with Node.js async APIs
if (loadZoneJs) {
    require('zone.js');
    span_manager_1.zoneSpanManagerTests();
}
if (!loadZoneJs && semver.satisfies(process.version, '>=8.1.0')) {
    span_manager_1.asyncHookManagerTests();
}
if (!loadZoneJs && semver.satisfies(process.version, '>=4.0.0 <8.0.0')) {
    span_manager_1.asyncWrapSpanManagerTest();
}
//# sourceMappingURL=unittest.js.map